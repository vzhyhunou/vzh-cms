import{g as xt,c as At,_ as St,a as _t}from"./index-ee745b51.js";import{b as Et,g as Pt,a as $t}from"./back-b67b2a39.js";var Ot={exports:{}};(function(E,k){(function(O,A){E.exports=A()})(At,function(){return function(){var O={8552:function(n,e,t){var r=t(852)(t(5639),"DataView");n.exports=r},1989:function(n,e,t){var r=t(1789),u=t(401),s=t(7667),i=t(1327),o=t(1866);function c(d){var f=-1,v=d==null?0:d.length;for(this.clear();++f<v;){var _=d[f];this.set(_[0],_[1])}}c.prototype.clear=r,c.prototype.delete=u,c.prototype.get=s,c.prototype.has=i,c.prototype.set=o,n.exports=c},8407:function(n,e,t){var r=t(7040),u=t(4125),s=t(2117),i=t(7518),o=t(4705);function c(d){var f=-1,v=d==null?0:d.length;for(this.clear();++f<v;){var _=d[f];this.set(_[0],_[1])}}c.prototype.clear=r,c.prototype.delete=u,c.prototype.get=s,c.prototype.has=i,c.prototype.set=o,n.exports=c},7071:function(n,e,t){var r=t(852)(t(5639),"Map");n.exports=r},3369:function(n,e,t){var r=t(4785),u=t(1285),s=t(6e3),i=t(9916),o=t(5265);function c(d){var f=-1,v=d==null?0:d.length;for(this.clear();++f<v;){var _=d[f];this.set(_[0],_[1])}}c.prototype.clear=r,c.prototype.delete=u,c.prototype.get=s,c.prototype.has=i,c.prototype.set=o,n.exports=c},3818:function(n,e,t){var r=t(852)(t(5639),"Promise");n.exports=r},8525:function(n,e,t){var r=t(852)(t(5639),"Set");n.exports=r},8668:function(n,e,t){var r=t(3369),u=t(619),s=t(2385);function i(o){var c=-1,d=o==null?0:o.length;for(this.__data__=new r;++c<d;)this.add(o[c])}i.prototype.add=i.prototype.push=u,i.prototype.has=s,n.exports=i},6384:function(n,e,t){var r=t(8407),u=t(7465),s=t(3779),i=t(7599),o=t(4758),c=t(4309);function d(f){var v=this.__data__=new r(f);this.size=v.size}d.prototype.clear=u,d.prototype.delete=s,d.prototype.get=i,d.prototype.has=o,d.prototype.set=c,n.exports=d},2705:function(n,e,t){var r=t(5639).Symbol;n.exports=r},1149:function(n,e,t){var r=t(5639).Uint8Array;n.exports=r},577:function(n,e,t){var r=t(852)(t(5639),"WeakMap");n.exports=r},7412:function(n){n.exports=function(e,t){for(var r=-1,u=e==null?0:e.length;++r<u&&t(e[r],r,e)!==!1;);return e}},4963:function(n){n.exports=function(e,t){for(var r=-1,u=e==null?0:e.length,s=0,i=[];++r<u;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}},4636:function(n,e,t){var r=t(2545),u=t(5694),s=t(1469),i=t(4144),o=t(5776),c=t(6719),d=Object.prototype.hasOwnProperty;n.exports=function(f,v){var _=s(f),P=!_&&u(f),R=!_&&!P&&i(f),$=!_&&!P&&!R&&c(f),H=_||P||R||$,I=H?r(f.length,String):[],N=I.length;for(var C in f)!v&&!d.call(f,C)||H&&(C=="length"||R&&(C=="offset"||C=="parent")||$&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||o(C,N))||I.push(C);return I}},9932:function(n){n.exports=function(e,t){for(var r=-1,u=e==null?0:e.length,s=Array(u);++r<u;)s[r]=t(e[r],r,e);return s}},2488:function(n){n.exports=function(e,t){for(var r=-1,u=t.length,s=e.length;++r<u;)e[s+r]=t[r];return e}},2908:function(n){n.exports=function(e,t){for(var r=-1,u=e==null?0:e.length;++r<u;)if(t(e[r],r,e))return!0;return!1}},4865:function(n,e,t){var r=t(9465),u=t(7813),s=Object.prototype.hasOwnProperty;n.exports=function(i,o,c){var d=i[o];s.call(i,o)&&u(d,c)&&(c!==void 0||o in i)||r(i,o,c)}},8470:function(n,e,t){var r=t(7813);n.exports=function(u,s){for(var i=u.length;i--;)if(r(u[i][0],s))return i;return-1}},4037:function(n,e,t){var r=t(8363),u=t(3674);n.exports=function(s,i){return s&&r(i,u(i),s)}},3886:function(n,e,t){var r=t(8363),u=t(1704);n.exports=function(s,i){return s&&r(i,u(i),s)}},9465:function(n,e,t){var r=t(8777);n.exports=function(u,s,i){s=="__proto__"&&r?r(u,s,{configurable:!0,enumerable:!0,value:i,writable:!0}):u[s]=i}},5990:function(n,e,t){var r=t(6384),u=t(7412),s=t(4865),i=t(4037),o=t(3886),c=t(4626),d=t(278),f=t(8805),v=t(1911),_=t(8234),P=t(6904),R=t(4160),$=t(3824),H=t(9148),I=t(8517),N=t(1469),C=t(4144),U=t(6688),M=t(3218),X=t(2928),L=t(3674),G=t(1704),et="[object Arguments]",pt="[object Function]",st="[object Object]",F={};F[et]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[st]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[pt]=F["[object WeakMap]"]=!1,n.exports=function lt(D,rt,dt,yt,ht,ot){var p,h=1&rt,y=2&rt,a=4&rt;if(dt&&(p=ht?dt(D,yt,ht,ot):dt(D)),p!==void 0)return p;if(!M(D))return D;var l=N(D);if(l){if(p=$(D),!h)return d(D,p)}else{var m=R(D),b=m==pt||m=="[object GeneratorFunction]";if(C(D))return c(D,h);if(m==st||m==et||b&&!ht){if(p=y||b?{}:I(D),!h)return y?v(D,o(p,D)):f(D,i(p,D))}else{if(!F[m])return ht?D:{};p=H(D,m,h)}}ot||(ot=new r);var w=ot.get(D);if(w)return w;ot.set(D,p),X(D)?D.forEach(function(j){p.add(lt(j,rt,dt,j,D,ot))}):U(D)&&D.forEach(function(j,T){p.set(T,lt(j,rt,dt,T,D,ot))});var g=l?void 0:(a?y?P:_:y?G:L)(D);return u(g||D,function(j,T){g&&(j=D[T=j]),s(p,T,lt(j,rt,dt,T,D,ot))}),p}},3118:function(n,e,t){var r=t(3218),u=Object.create,s=function(){function i(){}return function(o){if(!r(o))return{};if(u)return u(o);i.prototype=o;var c=new i;return i.prototype=void 0,c}}();n.exports=s},7786:function(n,e,t){var r=t(1811),u=t(327);n.exports=function(s,i){for(var o=0,c=(i=r(i,s)).length;s!=null&&o<c;)s=s[u(i[o++])];return o&&o==c?s:void 0}},8866:function(n,e,t){var r=t(2488),u=t(1469);n.exports=function(s,i,o){var c=i(s);return u(s)?c:r(c,o(s))}},4239:function(n,e,t){var r=t(2705),u=t(9607),s=t(2333),i=r?r.toStringTag:void 0;n.exports=function(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":i&&i in Object(o)?u(o):s(o)}},9454:function(n,e,t){var r=t(4239),u=t(7005);n.exports=function(s){return u(s)&&r(s)=="[object Arguments]"}},939:function(n,e,t){var r=t(2492),u=t(7005);n.exports=function s(i,o,c,d,f){return i===o||(i==null||o==null||!u(i)&&!u(o)?i!=i&&o!=o:r(i,o,c,d,s,f))}},2492:function(n,e,t){var r=t(6384),u=t(7114),s=t(8351),i=t(6096),o=t(4160),c=t(1469),d=t(4144),f=t(6719),v="[object Arguments]",_="[object Array]",P="[object Object]",R=Object.prototype.hasOwnProperty;n.exports=function($,H,I,N,C,U){var M=c($),X=c(H),L=M?_:o($),G=X?_:o(H),et=(L=L==v?P:L)==P,pt=(G=G==v?P:G)==P,st=L==G;if(st&&d($)){if(!d(H))return!1;M=!0,et=!1}if(st&&!et)return U||(U=new r),M||f($)?u($,H,I,N,C,U):s($,H,L,I,N,C,U);if(!(1&I)){var F=et&&R.call($,"__wrapped__"),lt=pt&&R.call(H,"__wrapped__");if(F||lt){var D=F?$.value():$,rt=lt?H.value():H;return U||(U=new r),C(D,rt,I,N,U)}}return!!st&&(U||(U=new r),i($,H,I,N,C,U))}},5588:function(n,e,t){var r=t(4160),u=t(7005);n.exports=function(s){return u(s)&&r(s)=="[object Map]"}},2958:function(n,e,t){var r=t(6384),u=t(939);n.exports=function(s,i,o,c){var d=o.length,f=d,v=!c;if(s==null)return!f;for(s=Object(s);d--;){var _=o[d];if(v&&_[2]?_[1]!==s[_[0]]:!(_[0]in s))return!1}for(;++d<f;){var P=(_=o[d])[0],R=s[P],$=_[1];if(v&&_[2]){if(R===void 0&&!(P in s))return!1}else{var H=new r;if(c)var I=c(R,$,P,s,i,H);if(!(I===void 0?u($,R,3,c,H):I))return!1}}return!0}},8458:function(n,e,t){var r=t(3560),u=t(5346),s=t(3218),i=t(346),o=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,v=d.hasOwnProperty,_=RegExp("^"+f.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(P){return!(!s(P)||u(P))&&(r(P)?_:o).test(i(P))}},9221:function(n,e,t){var r=t(4160),u=t(7005);n.exports=function(s){return u(s)&&r(s)=="[object Set]"}},8749:function(n,e,t){var r=t(4239),u=t(1780),s=t(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(o){return s(o)&&u(o.length)&&!!i[r(o)]}},280:function(n,e,t){var r=t(5726),u=t(6916),s=Object.prototype.hasOwnProperty;n.exports=function(i){if(!r(i))return u(i);var o=[];for(var c in Object(i))s.call(i,c)&&c!="constructor"&&o.push(c);return o}},313:function(n,e,t){var r=t(3218),u=t(5726),s=t(3498),i=Object.prototype.hasOwnProperty;n.exports=function(o){if(!r(o))return s(o);var c=u(o),d=[];for(var f in o)(f!="constructor"||!c&&i.call(o,f))&&d.push(f);return d}},1573:function(n,e,t){var r=t(2958),u=t(1499),s=t(2634);n.exports=function(i){var o=u(i);return o.length==1&&o[0][2]?s(o[0][0],o[0][1]):function(c){return c===i||r(c,i,o)}}},2545:function(n){n.exports=function(e,t){for(var r=-1,u=Array(e);++r<e;)u[r]=t(r);return u}},531:function(n,e,t){var r=t(2705),u=t(9932),s=t(1469),i=t(3448),o=r?r.prototype:void 0,c=o?o.toString:void 0;n.exports=function d(f){if(typeof f=="string")return f;if(s(f))return u(f,d)+"";if(i(f))return c?c.call(f):"";var v=f+"";return v=="0"&&1/f==-1/0?"-0":v}},1717:function(n){n.exports=function(e){return function(t){return e(t)}}},4757:function(n){n.exports=function(e,t){return e.has(t)}},1811:function(n,e,t){var r=t(1469),u=t(5403),s=t(5514),i=t(9833);n.exports=function(o,c){return r(o)?o:u(o,c)?[o]:s(i(o))}},4318:function(n,e,t){var r=t(1149);n.exports=function(u){var s=new u.constructor(u.byteLength);return new r(s).set(new r(u)),s}},4626:function(n,e,t){n=t.nmd(n);var r=t(5639),u=e&&!e.nodeType&&e,s=u&&n&&!n.nodeType&&n,i=s&&s.exports===u?r.Buffer:void 0,o=i?i.allocUnsafe:void 0;n.exports=function(c,d){if(d)return c.slice();var f=c.length,v=o?o(f):new c.constructor(f);return c.copy(v),v}},7157:function(n,e,t){var r=t(4318);n.exports=function(u,s){var i=s?r(u.buffer):u.buffer;return new u.constructor(i,u.byteOffset,u.byteLength)}},3147:function(n){var e=/\w*$/;n.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:function(n,e,t){var r=t(2705),u=r?r.prototype:void 0,s=u?u.valueOf:void 0;n.exports=function(i){return s?Object(s.call(i)):{}}},7133:function(n,e,t){var r=t(4318);n.exports=function(u,s){var i=s?r(u.buffer):u.buffer;return new u.constructor(i,u.byteOffset,u.length)}},278:function(n){n.exports=function(e,t){var r=-1,u=e.length;for(t||(t=Array(u));++r<u;)t[r]=e[r];return t}},8363:function(n,e,t){var r=t(4865),u=t(9465);n.exports=function(s,i,o,c){var d=!o;o||(o={});for(var f=-1,v=i.length;++f<v;){var _=i[f],P=c?c(o[_],s[_],_,o,s):void 0;P===void 0&&(P=s[_]),d?u(o,_,P):r(o,_,P)}return o}},8805:function(n,e,t){var r=t(8363),u=t(9551);n.exports=function(s,i){return r(s,u(s),i)}},1911:function(n,e,t){var r=t(8363),u=t(1442);n.exports=function(s,i){return r(s,u(s),i)}},4429:function(n,e,t){var r=t(5639)["__core-js_shared__"];n.exports=r},8777:function(n,e,t){var r=t(852),u=function(){try{var s=r(Object,"defineProperty");return s({},"",{}),s}catch{}}();n.exports=u},7114:function(n,e,t){var r=t(8668),u=t(2908),s=t(4757);n.exports=function(i,o,c,d,f,v){var _=1&c,P=i.length,R=o.length;if(P!=R&&!(_&&R>P))return!1;var $=v.get(i),H=v.get(o);if($&&H)return $==o&&H==i;var I=-1,N=!0,C=2&c?new r:void 0;for(v.set(i,o),v.set(o,i);++I<P;){var U=i[I],M=o[I];if(d)var X=_?d(M,U,I,o,i,v):d(U,M,I,i,o,v);if(X!==void 0){if(X)continue;N=!1;break}if(C){if(!u(o,function(L,G){if(!s(C,G)&&(U===L||f(U,L,c,d,v)))return C.push(G)})){N=!1;break}}else if(U!==M&&!f(U,M,c,d,v)){N=!1;break}}return v.delete(i),v.delete(o),N}},8351:function(n,e,t){var r=t(2705),u=t(1149),s=t(7813),i=t(7114),o=t(8776),c=t(1814),d=r?r.prototype:void 0,f=d?d.valueOf:void 0;n.exports=function(v,_,P,R,$,H,I){switch(P){case"[object DataView]":if(v.byteLength!=_.byteLength||v.byteOffset!=_.byteOffset)return!1;v=v.buffer,_=_.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=_.byteLength||!H(new u(v),new u(_)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+v,+_);case"[object Error]":return v.name==_.name&&v.message==_.message;case"[object RegExp]":case"[object String]":return v==_+"";case"[object Map]":var N=o;case"[object Set]":var C=1&R;if(N||(N=c),v.size!=_.size&&!C)return!1;var U=I.get(v);if(U)return U==_;R|=2,I.set(v,_);var M=i(N(v),N(_),R,$,H,I);return I.delete(v),M;case"[object Symbol]":if(f)return f.call(v)==f.call(_)}return!1}},6096:function(n,e,t){var r=t(8234),u=Object.prototype.hasOwnProperty;n.exports=function(s,i,o,c,d,f){var v=1&o,_=r(s),P=_.length;if(P!=r(i).length&&!v)return!1;for(var R=P;R--;){var $=_[R];if(!(v?$ in i:u.call(i,$)))return!1}var H=f.get(s),I=f.get(i);if(H&&I)return H==i&&I==s;var N=!0;f.set(s,i),f.set(i,s);for(var C=v;++R<P;){var U=s[$=_[R]],M=i[$];if(c)var X=v?c(M,U,$,i,s,f):c(U,M,$,s,i,f);if(!(X===void 0?U===M||d(U,M,o,c,f):X)){N=!1;break}C||(C=$=="constructor")}if(N&&!C){var L=s.constructor,G=i.constructor;L==G||!("constructor"in s)||!("constructor"in i)||typeof L=="function"&&L instanceof L&&typeof G=="function"&&G instanceof G||(N=!1)}return f.delete(s),f.delete(i),N}},1957:function(n,e,t){var r=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g;n.exports=r},8234:function(n,e,t){var r=t(8866),u=t(9551),s=t(3674);n.exports=function(i){return r(i,s,u)}},6904:function(n,e,t){var r=t(8866),u=t(1442),s=t(1704);n.exports=function(i){return r(i,s,u)}},5050:function(n,e,t){var r=t(7019);n.exports=function(u,s){var i=u.__data__;return r(s)?i[typeof s=="string"?"string":"hash"]:i.map}},1499:function(n,e,t){var r=t(9162),u=t(3674);n.exports=function(s){for(var i=u(s),o=i.length;o--;){var c=i[o],d=s[c];i[o]=[c,d,r(d)]}return i}},852:function(n,e,t){var r=t(8458),u=t(7801);n.exports=function(s,i){var o=u(s,i);return r(o)?o:void 0}},5924:function(n,e,t){var r=t(5569)(Object.getPrototypeOf,Object);n.exports=r},9607:function(n,e,t){var r=t(2705),u=Object.prototype,s=u.hasOwnProperty,i=u.toString,o=r?r.toStringTag:void 0;n.exports=function(c){var d=s.call(c,o),f=c[o];try{c[o]=void 0;var v=!0}catch{}var _=i.call(c);return v&&(d?c[o]=f:delete c[o]),_}},9551:function(n,e,t){var r=t(4963),u=t(479),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(c){return c==null?[]:(c=Object(c),r(i(c),function(d){return s.call(c,d)}))}:u;n.exports=o},1442:function(n,e,t){var r=t(2488),u=t(5924),s=t(9551),i=t(479),o=Object.getOwnPropertySymbols?function(c){for(var d=[];c;)r(d,s(c)),c=u(c);return d}:i;n.exports=o},4160:function(n,e,t){var r=t(8552),u=t(7071),s=t(3818),i=t(8525),o=t(577),c=t(4239),d=t(346),f="[object Map]",v="[object Promise]",_="[object Set]",P="[object WeakMap]",R="[object DataView]",$=d(r),H=d(u),I=d(s),N=d(i),C=d(o),U=c;(r&&U(new r(new ArrayBuffer(1)))!=R||u&&U(new u)!=f||s&&U(s.resolve())!=v||i&&U(new i)!=_||o&&U(new o)!=P)&&(U=function(M){var X=c(M),L=X=="[object Object]"?M.constructor:void 0,G=L?d(L):"";if(G)switch(G){case $:return R;case H:return f;case I:return v;case N:return _;case C:return P}return X}),n.exports=U},7801:function(n){n.exports=function(e,t){return e==null?void 0:e[t]}},1789:function(n,e,t){var r=t(4536);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:function(n){n.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:function(n,e,t){var r=t(4536),u=Object.prototype.hasOwnProperty;n.exports=function(s){var i=this.__data__;if(r){var o=i[s];return o==="__lodash_hash_undefined__"?void 0:o}return u.call(i,s)?i[s]:void 0}},1327:function(n,e,t){var r=t(4536),u=Object.prototype.hasOwnProperty;n.exports=function(s){var i=this.__data__;return r?i[s]!==void 0:u.call(i,s)}},1866:function(n,e,t){var r=t(4536);n.exports=function(u,s){var i=this.__data__;return this.size+=this.has(u)?0:1,i[u]=r&&s===void 0?"__lodash_hash_undefined__":s,this}},3824:function(n){var e=Object.prototype.hasOwnProperty;n.exports=function(t){var r=t.length,u=new t.constructor(r);return r&&typeof t[0]=="string"&&e.call(t,"index")&&(u.index=t.index,u.input=t.input),u}},9148:function(n,e,t){var r=t(4318),u=t(7157),s=t(3147),i=t(419),o=t(7133);n.exports=function(c,d,f){var v=c.constructor;switch(d){case"[object ArrayBuffer]":return r(c);case"[object Boolean]":case"[object Date]":return new v(+c);case"[object DataView]":return u(c,f);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(c,f);case"[object Map]":case"[object Set]":return new v;case"[object Number]":case"[object String]":return new v(c);case"[object RegExp]":return s(c);case"[object Symbol]":return i(c)}}},8517:function(n,e,t){var r=t(3118),u=t(5924),s=t(5726);n.exports=function(i){return typeof i.constructor!="function"||s(i)?{}:r(u(i))}},5776:function(n){var e=/^(?:0|[1-9]\d*)$/;n.exports=function(t,r){var u=typeof t;return!!(r=r??9007199254740991)&&(u=="number"||u!="symbol"&&e.test(t))&&t>-1&&t%1==0&&t<r}},5403:function(n,e,t){var r=t(1469),u=t(3448),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(o,c){if(r(o))return!1;var d=typeof o;return!(d!="number"&&d!="symbol"&&d!="boolean"&&o!=null&&!u(o))||i.test(o)||!s.test(o)||c!=null&&o in Object(c)}},7019:function(n){n.exports=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}},5346:function(n,e,t){var r,u=t(4429),s=(r=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(i){return!!s&&s in i}},5726:function(n){var e=Object.prototype;n.exports=function(t){var r=t&&t.constructor;return t===(typeof r=="function"&&r.prototype||e)}},9162:function(n,e,t){var r=t(3218);n.exports=function(u){return u==u&&!r(u)}},7040:function(n){n.exports=function(){this.__data__=[],this.size=0}},4125:function(n,e,t){var r=t(8470),u=Array.prototype.splice;n.exports=function(s){var i=this.__data__,o=r(i,s);return!(o<0)&&(o==i.length-1?i.pop():u.call(i,o,1),--this.size,!0)}},2117:function(n,e,t){var r=t(8470);n.exports=function(u){var s=this.__data__,i=r(s,u);return i<0?void 0:s[i][1]}},7518:function(n,e,t){var r=t(8470);n.exports=function(u){return r(this.__data__,u)>-1}},4705:function(n,e,t){var r=t(8470);n.exports=function(u,s){var i=this.__data__,o=r(i,u);return o<0?(++this.size,i.push([u,s])):i[o][1]=s,this}},4785:function(n,e,t){var r=t(1989),u=t(8407),s=t(7071);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||u),string:new r}}},1285:function(n,e,t){var r=t(5050);n.exports=function(u){var s=r(this,u).delete(u);return this.size-=s?1:0,s}},6e3:function(n,e,t){var r=t(5050);n.exports=function(u){return r(this,u).get(u)}},9916:function(n,e,t){var r=t(5050);n.exports=function(u){return r(this,u).has(u)}},5265:function(n,e,t){var r=t(5050);n.exports=function(u,s){var i=r(this,u),o=i.size;return i.set(u,s),this.size+=i.size==o?0:1,this}},8776:function(n){n.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(u,s){r[++t]=[s,u]}),r}},2634:function(n){n.exports=function(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}},4523:function(n,e,t){var r=t(8306);n.exports=function(u){var s=r(u,function(o){return i.size===500&&i.clear(),o}),i=s.cache;return s}},4536:function(n,e,t){var r=t(852)(Object,"create");n.exports=r},6916:function(n,e,t){var r=t(5569)(Object.keys,Object);n.exports=r},3498:function(n){n.exports=function(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}},1167:function(n,e,t){n=t.nmd(n);var r=t(1957),u=e&&!e.nodeType&&e,s=u&&n&&!n.nodeType&&n,i=s&&s.exports===u&&r.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();n.exports=o},2333:function(n){var e=Object.prototype.toString;n.exports=function(t){return e.call(t)}},5569:function(n){n.exports=function(e,t){return function(r){return e(t(r))}}},5639:function(n,e,t){var r=t(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,s=r||u||Function("return this")();n.exports=s},619:function(n){n.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:function(n){n.exports=function(e){return this.__data__.has(e)}},1814:function(n){n.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(u){r[++t]=u}),r}},7465:function(n,e,t){var r=t(8407);n.exports=function(){this.__data__=new r,this.size=0}},3779:function(n){n.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:function(n){n.exports=function(e){return this.__data__.get(e)}},4758:function(n){n.exports=function(e){return this.__data__.has(e)}},4309:function(n,e,t){var r=t(8407),u=t(7071),s=t(3369);n.exports=function(i,o){var c=this.__data__;if(c instanceof r){var d=c.__data__;if(!u||d.length<199)return d.push([i,o]),this.size=++c.size,this;c=this.__data__=new s(d)}return c.set(i,o),this.size=c.size,this}},5514:function(n,e,t){var r=t(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=r(function(o){var c=[];return o.charCodeAt(0)===46&&c.push(""),o.replace(u,function(d,f,v,_){c.push(v?_.replace(s,"$1"):f||d)}),c});n.exports=i},327:function(n,e,t){var r=t(3448);n.exports=function(u){if(typeof u=="string"||r(u))return u;var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}},346:function(n){var e=Function.prototype.toString;n.exports=function(t){if(t!=null){try{return e.call(t)}catch{}try{return t+""}catch{}}return""}},7813:function(n){n.exports=function(e,t){return e===t||e!=e&&t!=t}},7361:function(n,e,t){var r=t(7786);n.exports=function(u,s,i){var o=u==null?void 0:r(u,s);return o===void 0?i:o}},5694:function(n,e,t){var r=t(9454),u=t(7005),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(d){return u(d)&&i.call(d,"callee")&&!o.call(d,"callee")};n.exports=c},1469:function(n){var e=Array.isArray;n.exports=e},8612:function(n,e,t){var r=t(3560),u=t(1780);n.exports=function(s){return s!=null&&u(s.length)&&!r(s)}},4144:function(n,e,t){n=t.nmd(n);var r=t(5639),u=t(5062),s=e&&!e.nodeType&&e,i=s&&n&&!n.nodeType&&n,o=i&&i.exports===s?r.Buffer:void 0,c=(o?o.isBuffer:void 0)||u;n.exports=c},3560:function(n,e,t){var r=t(4239),u=t(3218);n.exports=function(s){if(!u(s))return!1;var i=r(s);return i=="[object Function]"||i=="[object GeneratorFunction]"||i=="[object AsyncFunction]"||i=="[object Proxy]"}},1780:function(n){n.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},6688:function(n,e,t){var r=t(5588),u=t(1717),s=t(1167),i=s&&s.isMap,o=i?u(i):r;n.exports=o},3218:function(n){n.exports=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}},7005:function(n){n.exports=function(e){return e!=null&&typeof e=="object"}},2928:function(n,e,t){var r=t(9221),u=t(1717),s=t(1167),i=s&&s.isSet,o=i?u(i):r;n.exports=o},3448:function(n,e,t){var r=t(4239),u=t(7005);n.exports=function(s){return typeof s=="symbol"||u(s)&&r(s)=="[object Symbol]"}},6719:function(n,e,t){var r=t(8749),u=t(1717),s=t(1167),i=s&&s.isTypedArray,o=i?u(i):r;n.exports=o},3674:function(n,e,t){var r=t(4636),u=t(280),s=t(8612);n.exports=function(i){return s(i)?r(i):u(i)}},1704:function(n,e,t){var r=t(4636),u=t(313),s=t(8612);n.exports=function(i){return s(i)?r(i,!0):u(i)}},6410:function(n,e,t){var r=t(5990),u=t(1573);n.exports=function(s){return u(r(s,1))}},8306:function(n,e,t){var r=t(3369);function u(s,i){if(typeof s!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");var o=function(){var c=arguments,d=i?i.apply(this,c):c[0],f=o.cache;if(f.has(d))return f.get(d);var v=s.apply(this,c);return o.cache=f.set(d,v)||f,v};return o.cache=new(u.Cache||r),o}u.Cache=r,n.exports=u},479:function(n){n.exports=function(){return[]}},5062:function(n){n.exports=function(){return!1}},9833:function(n,e,t){var r=t(531);n.exports=function(u){return u==null?"":r(u)}}},A={};function S(n){var e=A[n];if(e!==void 0)return e.exports;var t=A[n]={id:n,loaded:!1,exports:{}};return O[n](t,t.exports,S),t.loaded=!0,t.exports}S.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return S.d(e,{a:e}),e},S.d=function(n,e){for(var t in e)S.o(e,t)&&!S.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),S.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},S.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},S.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n};var x={};return function(){S.r(x),S.d(x,{Collection:function(){return _},FetchServer:function(){return ht},Server:function(){return G},Single:function(){return $},default:function(){return ot}});var n=S(7361),e=S.n(n),t=S(6410),r=S.n(t);function u(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function s(p,h){for(var y=0;y<h.length;y++){var a=h[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(p,a.key,a)}}function i(p,h,y){return h in p?Object.defineProperty(p,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[h]=y,p}function o(p,h){return function(y){if(Array.isArray(y))return y}(p)||function(y,a){var l=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(l!=null){var m,b,w=[],g=!0,j=!1;try{for(l=l.call(y);!(g=(m=l.next()).done)&&(w.push(m.value),!a||w.length!==a);g=!0);}catch(T){j=!0,b=T}finally{try{g||l.return==null||l.return()}finally{if(j)throw b}}return w}}(p,h)||function(y,a){if(y){if(typeof y=="string")return c(y,a);var l=Object.prototype.toString.call(y).slice(8,-1);if(l==="Object"&&y.constructor&&(l=y.constructor.name),l==="Map"||l==="Set")return Array.from(y);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return c(y,a)}}(p,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(p,h){(h==null||h>p.length)&&(h=p.length);for(var y=0,a=new Array(h);y<h;y++)a[y]=p[y];return a}function d(p){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},d(p)}var f=function(p,h){if(p.indexOf("_q")!==-1){var y=p.replace(/(_q)$/,""),a=new RegExp(h,"i");return function(B){var J;return((J=e()(B,y))===null||J===void 0?void 0:J.match(a))!==null}}if(p.indexOf("_lte")!==-1){var l=p.replace(/(_lte)$/,"");return function(B){return e()(B,l)<=h}}if(p.indexOf("_gte")!==-1){var m=p.replace(/(_gte)$/,"");return function(B){return e()(B,m)>=h}}if(p.indexOf("_lt")!==-1){var b=p.replace(/(_lt)$/,"");return function(B){return e()(B,b)<h}}if(p.indexOf("_gt")!==-1){var w=p.replace(/(_gt)$/,"");return function(B){return e()(B,w)>h}}if(p.indexOf("_neq_any")!==-1){var g=p.replace(/(_neq_any)$/,""),j=Array.isArray(h)?h:[h];return function(B){return j.every(function(J){return e()(B,g)!=J})}}if(p.indexOf("_neq")!==-1){var T=p.replace(/(_neq)$/,"");return function(B){return e()(B,T)!=h}}if(p.indexOf("_eq_any")!==-1){var q=p.replace(/(_eq_any)$/,""),z=Array.isArray(h)?h:[h];return function(B){return z.some(function(J){return e()(B,q)==J})}}if(p.indexOf("_eq")!==-1){var Z=p.replace(/(_eq)$/,"");return function(B){return e()(B,Z)==h}}if(p.indexOf("_inc_any")!==-1){var Y=p.replace(/(_inc_any)$/,""),W=Array.isArray(h)?h:[h];return function(B){return W.some(function(J){return e()(B,Y).includes(J)})}}if(p.indexOf("_inc")!==-1){var tt=p.replace(/(_inc)$/,""),Q=Array.isArray(h)?h:[h];return function(B){return Q.every(function(J){return e()(B,tt).includes(J)})}}if(p.indexOf("_ninc_any")!==-1){var K=p.replace(/(_ninc_any)$/,""),nt=Array.isArray(h)?h:[h];return function(B){return nt.every(function(J){return!e()(B,K).includes(J)})}}return Array.isArray(h)?function(B){return Array.isArray(e()(B,p))?(J=function(it){return ct=e()(B,p),vt=function(V){return V==it},ct.reduce(function(V,at){return V||vt(at)},!1);var ct,vt},h.reduce(function(it,ct){return it&&J(ct)},!0)):h.filter(function(it){return it==e()(B,p)}).length>0;var J}:d(h)==="object"?function(B){return r()(h)(e()(B,p))}:function(B){return Array.isArray(e()(B,p))&&typeof h=="string"?e()(B,p).indexOf(h)!==-1:typeof e()(B,p)=="boolean"&&typeof h=="string"?e()(B,p)==(h==="true"):e()(B,p)==h}};function v(p,h){if(typeof h=="function")return p.filter(h);if(h instanceof Object){var y=Object.keys(h).map(function(a){if(a==="q"){var l=new RegExp(h.q,"i");return function w(g){for(var j in g)if(d(g[j])==="object"&&w(g[j])||g[j]&&g[j].match&&g[j].match(l)!==null)return!0;return!1}}var m=a.split("."),b=h[a];return m.length>1?function(w){var g=function(z,Z){return z.reduce(function(Y,W,tt){if(Y!=null)return Y;var Q=z.slice(0,tt+1).join("."),K=z.slice(tt+1).join("."),nt=e()(Z,Q);return Array.isArray(nt)&&tt<z.length-1?[Q,K]:void 0},void 0)}(m,w);if(g){var j=o(g,2),T=j[0],q=j[1];return v(e()(w,T),i({},q,b)).length>0}return f(a,b)(w)}:f(a,b)});return p.filter(function(a){return y.reduce(function(l,m){return l&&m(a)},!0)})}throw new Error("Unsupported filter type")}var _=function(){function p(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"id";if(u(this,p),i(this,"sequence",0),i(this,"items",[]),i(this,"server",null),i(this,"name",null),i(this,"identifierName","id"),!Array.isArray(a))throw new Error("Can't initialize a Collection with anything else than an array of items");this.identifierName=l,a.map(this.addOne.bind(this))}var h,y;return h=p,(y=[{key:"setServer",value:function(a){this.server=a}},{key:"setName",value:function(a){this.name=a}},{key:"_oneToManyEmbedder",value:function(a){var l=this;if(this.name==null)throw new Error("Can't embed references without a collection name");var m=this.name.slice(0,-1)+"_id";return function(b){if(l.server==null)throw new Error("Can't embed references without a server");var w=l.server.collections[a];if(!w)throw new Error("Can't embed a non-existing collection ".concat(a));return Array.isArray(b[a])?b[a]=w.getAll({filter:function(g){return b[a].indexOf(g[w.identifierName])!==-1}}):b[a]=w.getAll({filter:function(g){return g[m]==b[l.identifierName]}}),b}}},{key:"_manyToOneEmbedder",value:function(a){var l=this,m=a+"s",b=a+"_id";return function(w){if(l.server==null)throw new Error("Can't embed references without a server");var g=l.server.collections[m];if(!g)throw new Error("Can't embed a non-existing collection ".concat(a));try{w[a]=g.getOne(w[b])}catch{}return w}}},{key:"_itemEmbedder",value:function(a){var l=this,m=(Array.isArray(a)?a:[a]).map(function(b){return b.endsWith("s")?l._oneToManyEmbedder(b):l._manyToOneEmbedder(b)});return function(b){return m.reduce(function(w,g){return g(w)},b)}}},{key:"getCount",value:function(a){return this.getAll(a).length}},{key:"getAll",value:function(a){var l=this.items.slice(0);return a&&(a.filter&&(l=v(l,a.filter)),a.sort&&(l=function(m,b){if(typeof b=="function")return m.sort(b);if(typeof b=="string")return m.sort(function(j,T){return j[b]>T[b]?1:j[b]<T[b]?-1:0});if(Array.isArray(b)){var w=b[0],g=b[1].toLowerCase()=="asc"?1:-1;return m.sort(function(j,T){return j[w]>T[w]?g:j[w]<T[w]?-1*g:0})}throw new Error("Unsupported sort type")}(l,a.sort)),a.range&&(l=function(m,b){if(Array.isArray(b))return m.slice(b[0],b[1]!==void 0?b[1]+1:void 0);throw new Error("Unsupported range type")}(l,a.range)),l=l.map(function(m){return Object.assign({},m)}),a.embed&&this.server&&(l=l.map(this._itemEmbedder(a.embed)))),l}},{key:"getIndex",value:function(a){var l=this;return this.items.findIndex(function(m){return m[l.identifierName]==a})}},{key:"getOne",value:function(a,l){var m=this.getIndex(a);if(m===-1)throw new Error("No item with identifier ".concat(a));var b=this.items[m];return b=Object.assign({},b),l&&l.embed&&this.server&&(b=this._itemEmbedder(l.embed)(b)),b}},{key:"addOne",value:function(a){var l=a[this.identifierName];if(l!==void 0){if(this.getIndex(l)!==-1)throw new Error("An item with the identifier ".concat(l," already exists"));this.sequence=Math.max(this.sequence,l)+1}else a[this.identifierName]=this.sequence++;return this.items.push(a),Object.assign({},a)}},{key:"updateOne",value:function(a,l){var m=this.getIndex(a);if(m===-1)throw new Error("No item with identifier ".concat(a));for(var b in l)this.items[m][b]=l[b];return Object.assign({},this.items[m])}},{key:"removeOne",value:function(a){var l=this.getIndex(a);if(l===-1)throw new Error("No item with identifier ".concat(a));var m=this.items[l];return this.items.splice(l,1),a==this.sequence-1&&this.sequence--,m}}])&&s(h.prototype,y),Object.defineProperty(h,"prototype",{writable:!1}),p}();function P(p,h){for(var y=0;y<h.length;y++){var a=h[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(p,a.key,a)}}function R(p,h,y){return h in p?Object.defineProperty(p,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[h]=y,p}var $=function(){function p(a){if(function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}(this,p),R(this,"obj",null),R(this,"server",null),R(this,"name",null),!(a instanceof Object))throw new Error("Can't initialize a Single with anything except an object");this.obj=a}var h,y;return h=p,(y=[{key:"setServer",value:function(a){this.server=a}},{key:"setName",value:function(a){this.name=a}},{key:"_oneToManyEmbedder",value:function(a){var l=this;return function(m){if(l.server==null)throw new Error("Can't embed references without a server");var b=l.server.collections[a];if(!b)throw new Error("Can't embed a non-existing collection ".concat(a));return m[a]=b.getAll({filter:function(w){return m[a].indexOf(w[b.identifierName])!==-1}}),m}}},{key:"_manyToOneEmbedder",value:function(a){var l=this,m=a+"s",b=a+"_id";return function(w){if(l.server==null)throw new Error("Can't embed references without a server");var g=l.server.collections[m];if(!g)throw new Error("Can't embed a non-existing collection ".concat(a));try{w[a]=g.getOne(w[b])}catch{}return w}}},{key:"_itemEmbedder",value:function(a){var l=this,m=(Array.isArray(a)?a:[a]).map(function(b){return b.endsWith("s")?l._oneToManyEmbedder(b):l._manyToOneEmbedder(b)});return function(b){return m.reduce(function(w,g){return g(w)},b)}}},{key:"getOnly",value:function(a){var l=this.obj;return a&&a.embed&&this.server&&(l=Object.assign({},l),l=this._itemEmbedder(a.embed)(l)),l}},{key:"updateOnly",value:function(a){for(var l in a)this.obj[l]=a[l];return this.obj}}])&&P(h.prototype,y),Object.defineProperty(h,"prototype",{writable:!1}),p}();function H(p,h){return function(y){if(Array.isArray(y))return y}(p)||function(y,a){var l=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(l!=null){var m,b,w=[],g=!0,j=!1;try{for(l=l.call(y);!(g=(m=l.next()).done)&&(w.push(m.value),!a||w.length!==a);g=!0);}catch(T){j=!0,b=T}finally{try{g||l.return==null||l.return()}finally{if(j)throw b}}return w}}(p,h)||function(y,a){if(y){if(typeof y=="string")return I(y,a);var l=Object.prototype.toString.call(y).slice(8,-1);if(l==="Object"&&y.constructor&&(l=y.constructor.name),l==="Map"||l==="Set")return Array.from(y);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return I(y,a)}}(p,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(p,h){(h==null||h>p.length)&&(h=p.length);for(var y=0,a=new Array(h);y<h;y++)a[y]=p[y];return a}function N(p){if(!p)return{};var h={};return p.split("&").map(function(y){if(y.indexOf("=")===-1)h[y]=!0;else{var a=H(y.split("="),2),l=a[0],m=a[1];m.indexOf("[")!==0&&m.indexOf("{")!==0||(m=JSON.parse(m)),h[l.trim()]=m}}),h}function C(p,h){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=function(g,j){if(g){if(typeof g=="string")return U(g,j);var T=Object.prototype.toString.call(g).slice(8,-1);if(T==="Object"&&g.constructor&&(T=g.constructor.name),T==="Map"||T==="Set")return Array.from(g);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return U(g,j)}}(p))||h&&p&&typeof p.length=="number"){y&&(p=y);var a=0,l=function(){};return{s:l,n:function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b=!0,w=!1;return{s:function(){y=y.call(p)},n:function(){var g=y.next();return b=g.done,g},e:function(g){w=!0,m=g},f:function(){try{b||y.return==null||y.return()}finally{if(w)throw m}}}}function U(p,h){(h==null||h>p.length)&&(h=p.length);for(var y=0,a=new Array(h);y<h;y++)a[y]=p[y];return a}function M(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function X(p,h){for(var y=0;y<h.length;y++){var a=h[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(p,a.key,a)}}function L(p,h,y){return h in p?Object.defineProperty(p,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[h]=y,p}var G=function(){function p(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";M(this,p),L(this,"baseUrl",null),L(this,"loggingEnabled",!1),L(this,"defaultQuery",function(){}),L(this,"batchUrl",null),L(this,"collections",{}),L(this,"singles",{}),L(this,"requestInterceptors",[]),L(this,"responseInterceptors",[]),this.baseUrl=a}var h,y;return h=p,y=[{key:"init",value:function(a){for(var l in a)Array.isArray(a[l])?this.addCollection(l,new _(a[l],"id")):this.addSingle(l,new $(a[l]))}},{key:"toggleLogging",value:function(){this.loggingEnabled=!this.loggingEnabled}},{key:"setDefaultQuery",value:function(a){this.defaultQuery=a}},{key:"setBatchUrl",value:function(a){this.batchUrl=a}},{key:"setBatch",value:function(a){console.warn("Server.setBatch() is deprecated, use Server.setBatchUrl() instead"),this.batchUrl=a}},{key:"addCollection",value:function(a,l){this.collections[a]=l,l.setServer(this),l.setName(a)}},{key:"getCollection",value:function(a){return this.collections[a]}},{key:"getCollectionNames",value:function(){return Object.keys(this.collections)}},{key:"addSingle",value:function(a,l){this.singles[a]=l,l.setServer(this),l.setName(a)}},{key:"getSingle",value:function(a){return this.singles[a]}},{key:"getSingleNames",value:function(){return Object.keys(this.singles)}},{key:"addRequestInterceptor",value:function(a){this.requestInterceptors.push(a)}},{key:"addResponseInterceptor",value:function(a){this.responseInterceptors.push(a)}},{key:"getCount",value:function(a,l){return this.collections[a].getCount(l)}},{key:"getAll",value:function(a,l){return this.collections[a].getAll(l)}},{key:"getOne",value:function(a,l,m){return this.collections[a].getOne(l,m)}},{key:"addOne",value:function(a,l){return this.collections.hasOwnProperty(a)||this.addCollection(a,new _([],"id")),this.collections[a].addOne(l)}},{key:"updateOne",value:function(a,l,m){return this.collections[a].updateOne(l,m)}},{key:"removeOne",value:function(a,l){return this.collections[a].removeOne(l)}},{key:"getOnly",value:function(a,l){return this.singles[a].getOnly()}},{key:"updateOnly",value:function(a,l){return this.singles[a].updateOnly(l)}},{key:"decode",value:function(a){if(a.queryString=decodeURIComponent(a.url.slice(a.url.indexOf("?")+1)),a.params=N(a.queryString),a.requestBody)try{a.json=JSON.parse(a.requestBody)}catch{}return this.requestInterceptors.reduce(function(l,m){return m(l)},a)}},{key:"respond",value:function(a,l,m){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:200;l||(l={}),l["Content-Type"]||(l["Content-Type"]="application/json");var w={status:b,headers:l,body:a};return w=this.responseInterceptors.reduce(function(g,j){return j(g,m)},w),this.log(m,w),m.respond(w.status,w.headers,JSON.stringify(w.body))}},{key:"log",value:function(a,l){this.loggingEnabled&&(console.group?(console.groupCollapsed(a.method,a.url,"(FakeRest)"),console.group("request"),console.log(a.method,a.url),console.log("headers",a.requestHeaders),console.log("body   ",a.requestBody),console.groupEnd(),console.group("response",l.status),console.log("headers",l.headers),console.log("body   ",l.body),console.groupEnd(),console.groupEnd()):(console.log("FakeRest request ",a.method,a.url,"headers",a.requestHeaders,"body",a.requestBody),console.log("FakeRest response",l.status,"headers",l.headers,"body",l.body)))}},{key:"batch",value:function(a){var l=a.json,m=this.handle.bind(this),b=Object.keys(l).reduce(function(w,g){var j,T={url:l[g],method:"GET",params:{},respond:function(q,z,Z){j={code:q,headers:Object.keys(z||{}).map(function(Y){return{name:Y,value:z[Y]}}),body:Z||{}}}};return m(T),w[g]=j||{code:404,headers:[],body:{}},w},{});return this.respond(b,{},a,200)}},{key:"handle",value:function(a){if(a=this.decode(a),this.batchUrl&&this.batchUrl===a.url&&a.method==="POST")return this.batch(a);var l,m=C(this.getSingleNames());try{for(m.s();!(l=m.n()).done;){var b=l.value;if(a.url.match(new RegExp("^"+this.baseUrl+"\\/("+b+")(\\/?.*)?$"))){if(a.method=="GET")try{var w=this.getOnly(b);return this.respond(w,null,a)}catch{return a.respond(404)}if(a.method=="PUT")try{var g=this.updateOnly(b,a.json);return this.respond(g,null,a)}catch{return a.respond(404)}if(a.method=="PATCH")try{var j=this.updateOnly(b,a.json);return this.respond(j,null,a)}catch{return a.respond(404)}}}}catch(at){m.e(at)}finally{m.f()}var T=a.url.match(new RegExp("^"+this.baseUrl+"\\/([^\\/?]+)(\\/(\\d+))?(\\?.*)?$"));if(T){var q=T[1],z=Object.assign({},this.defaultQuery(q),a.params);if(T[2]){if(!this.getCollection(q))return;var Z=T[3];if(a.method=="GET")try{var Y=this.getOne(q,Z,z);return this.respond(Y,null,a)}catch{return a.respond(404)}if(a.method=="PUT")try{var W=this.updateOne(q,Z,a.json);return this.respond(W,null,a)}catch{return a.respond(404)}if(a.method=="PATCH")try{var tt=this.updateOne(q,Z,a.json);return this.respond(tt,null,a)}catch{return a.respond(404)}if(a.method=="DELETE")try{var Q=this.removeOne(q,Z);return this.respond(Q,null,a)}catch{return a.respond(404)}}else{if(a.method=="GET"){if(!this.getCollection(q))return;var K,nt,B,J=this.getCount(q,z.filter?{filter:z.filter}:{});if(J>0){K=this.getAll(q,z);var it=z.range?z.range[0]:0,ct=z.range?Math.min(K.length-1+it,z.range[1]):K.length-1;nt="items ".concat(it,"-").concat(ct,"/").concat(J),B=K.length==J?200:206}else K=[],nt="items */0",B=200;return this.respond(K,{"Content-Range":nt},a,B)}if(a.method=="POST"){var vt=this.addOne(q,a.json),V=this.baseUrl+"/"+q+"/"+vt[this.getCollection(q).identifierName];return this.respond(vt,{Location:V},a,201)}}}}},{key:"getHandler",value:function(){return this.handle.bind(this)}}],y&&X(h.prototype,y),Object.defineProperty(h,"prototype",{writable:!1}),p}();function et(p){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},et(p)}function pt(p,h){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!y){if(Array.isArray(p)||(y=function(g,j){if(g){if(typeof g=="string")return st(g,j);var T=Object.prototype.toString.call(g).slice(8,-1);if(T==="Object"&&g.constructor&&(T=g.constructor.name),T==="Map"||T==="Set")return Array.from(g);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return st(g,j)}}(p))||h&&p&&typeof p.length=="number"){y&&(p=y);var a=0,l=function(){};return{s:l,n:function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m,b=!0,w=!1;return{s:function(){y=y.call(p)},n:function(){var g=y.next();return b=g.done,g},e:function(g){w=!0,m=g},f:function(){try{b||y.return==null||y.return()}finally{if(w)throw m}}}}function st(p,h){(h==null||h>p.length)&&(h=p.length);for(var y=0,a=new Array(h);y<h;y++)a[y]=p[y];return a}function F(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function lt(p,h){for(var y=0;y<h.length;y++){var a=h[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(p,a.key,a)}}function D(p,h){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,a){return y.__proto__=a,y},D(p,h)}function rt(p){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,a=yt(p);if(h){var l=yt(this).constructor;y=Reflect.construct(a,arguments,l)}else y=a.apply(this,arguments);return dt(this,y)}}function dt(p,h){if(h&&(et(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p)}function yt(p){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},yt(p)}var ht=function(p){(function(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),b&&D(m,b)})(l,p);var h,y,a=rt(l);function l(){return F(this,l),a.apply(this,arguments)}return h=l,(y=[{key:"decode",value:function(m,b){var w=this,g=typeof m=="string"?new Request(m,b):m;return g.queryString=decodeURIComponent(g.url.slice(g.url.indexOf("?")+1)),g.params=N(g.queryString),g.text().then(function(j){g.requestBody=j;try{g.requestJson=JSON.parse(j)}catch{}}).then(function(){return w.requestInterceptors.reduce(function(j,T){return T(j)},g)})}},{key:"respond",value:function(m,b){return m=this.responseInterceptors.reduce(function(w,g){return g(w,b)},m),this.log(b,m),m.headers=new Headers(m.headers),m}},{key:"log",value:function(m,b){this.loggingEnabled&&(console.group?(console.groupCollapsed(m.method,m.url,"(FakeRest)"),console.group("request"),console.log(m.method,m.url),console.log("headers",m.headers),console.log("body   ",m.requestBody),console.groupEnd(),console.group("response",b.status),console.log("headers",b.headers),console.log("body   ",b.body),console.groupEnd(),console.groupEnd()):(console.log("FakeRest request ",m.method,m.url,"headers",m.headers,"body",m.requestBody),console.log("FakeRest response",b.status,"headers",b.headers,"body",b.body)))}},{key:"batch",value:function(m){throw new Error("not implemented")}},{key:"handle",value:function(m,b){var w=this;return this.decode(m,b).then(function(g){var j={headers:{"Content-Type":"application/json"},status:200};if(w.batchUrl&&w.batchUrl===g.url&&g.method==="POST")return w.batch(g);var T,q=pt(w.getSingleNames());try{for(q.s();!(T=q.n()).done;){var z=T.value;if(g.url.match(new RegExp("^"+w.baseUrl+"\\/("+z+")(\\/?.*)?$"))){if(g.method=="GET"){try{j.body=w.getOnly(z)}catch{reponse.status=404}return w.respond(j,g)}if(g.method=="PUT"){try{j.body=w.updateOnly(z,g.requestJson)}catch{reponse.status=404}return w.respond(j,g)}if(g.method=="PATCH"){try{j.body=w.updateOnly(z,g.requestJson)}catch{reponse.status=404}return w.respond(j,g)}}}}catch(V){q.e(V)}finally{q.f()}var Z,Y=pt(w.getCollectionNames());try{for(Y.s();!(Z=Y.n()).done;){var W=Z.value,tt=g.url.match(new RegExp("^"+w.baseUrl+"\\/("+W+")(\\/(\\d+))?(\\?.*)?$"));if(tt){var Q=Object.assign({},w.defaultQuery(W),g.params);if(tt[2]){var K=tt[3];if(g.method=="GET"){try{j.body=w.getOne(W,K,Q)}catch{j.status=404}return w.respond(j,g)}if(g.method=="PUT"){try{j.body=w.updateOne(W,K,g.requestJson)}catch{j.status=404}return w.respond(j,g)}if(g.method=="PATCH"){try{j.body=w.updateOne(W,K,g.requestJson)}catch{j.status=404}return w.respond(j,g)}if(g.method=="DELETE"){try{j.body=w.removeOne(W,K)}catch{j.status=404}return w.respond(j,g)}}else{if(g.method=="GET"){var nt=w.getCount(W,Q.filter?{filter:Q.filter}:{});if(nt>0){var B=w.getAll(W,Q),J=Q.range?Q.range[0]:0,it=Q.range?Math.min(B.length-1+J,Q.range[1]):B.length-1;j.body=B,j.headers["Content-Range"]="items ".concat(J,"-").concat(it,"/").concat(nt),j.status=B.length==nt?200:206}else j.body=[],j.headers["Content-Range"]="items */0";return w.respond(j,g)}if(g.method=="POST"){var ct=w.addOne(W,g.requestJson),vt=w.baseUrl+"/"+W+"/"+ct[w.getCollection(W).identifierName];return j.body=ct,j.headers.Location=vt,j.status=201,w.respond(j,g)}}}}}catch(V){Y.e(V)}finally{Y.f()}return w.respond(j,g)})}}])&&lt(h.prototype,y),Object.defineProperty(h,"prototype",{writable:!1}),l}(G),ot={Server:G,FetchServer:ht,Collection:_,Single:$}}(),x}()})})(Ot);var kt=Ot.exports;const Ct=xt(kt);var Ut=globalThis&&globalThis.__extends||function(){var E=function(k,O){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,S){A.__proto__=S}||function(A,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(A[x]=S[x])},E(k,O)};return function(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");E(k,O);function A(){this.constructor=k}k.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)}}(),ft=globalThis&&globalThis.__assign||function(){return ft=Object.assign||function(E){for(var k,O=1,A=arguments.length;O<A;O++){k=arguments[O];for(var S in k)Object.prototype.hasOwnProperty.call(k,S)&&(E[S]=k[S])}return E},ft.apply(this,arguments)};function Tt(E,k,O,A){console.group?(console.groupCollapsed(E,k,JSON.stringify(O)),console.log(A),console.groupEnd()):(console.log("FakeRest request ",E,k,O),console.log("FakeRest response",A))}const Bt=function(E,k){k===void 0&&(k=!1);var O=new Ct.Server;O.init(E),typeof window<"u"&&(window.restServer=O);function A(x,n,e){var t;switch(x){case"getList":{var r=e.pagination,u=r.page,s=r.perPage,i=e.sort,o=i.field,c=i.order,d={sort:[o,c],range:[(u-1)*s,u*s-1],filter:e.filter};return{data:O.getAll(n,d),total:O.getCount(n,{filter:e.filter})}}case"getOne":return{data:O.getOne(n,e.id,ft({},e))};case"getMany":return{data:e.ids.map(function(_){return O.getOne(n,_)},ft({},e))};case"getManyReference":{var f=e.pagination,u=f.page,s=f.perPage,v=e.sort,o=v.field,c=v.order,d={sort:[o,c],range:[(u-1)*s,u*s-1],filter:ft(ft({},e.filter),(t={},t[e.target]=e.id,t))};return{data:O.getAll(n,d),total:O.getCount(n,{filter:d.filter})}}case"update":return{data:O.updateOne(n,e.id,ft({},e.data))};case"updateMany":return e.ids.forEach(function(_){return O.updateOne(n,_,ft({},e.data))}),{data:e.ids};case"create":return{data:O.addOne(n,ft({},e.data))};case"delete":return{data:O.removeOne(n,e.id)};case"deleteMany":return e.ids.forEach(function(_){return O.removeOne(n,_)}),{data:e.ids};default:return!1}}var S=function(x,n,e){var t=O.getCollection(n);if(!t&&x!=="create"){var r=new It('Undefined collection "'.concat(n,'"'));return r.code=1,Promise.reject(r)}var u;try{u=A(x,n,e)}catch(s){return console.error(s),Promise.reject(s)}return k&&Tt(x,n,e,u),Promise.resolve(u)};return{getList:function(x,n){return S("getList",x,n)},getOne:function(x,n){return S("getOne",x,n)},getMany:function(x,n){return S("getMany",x,n)},getManyReference:function(x,n){return S("getManyReference",x,n)},update:function(x,n){return S("update",x,n)},updateMany:function(x,n){return S("updateMany",x,n)},create:function(x,n){return S("create",x,n)},delete:function(x,n){return S("delete",x,n)},deleteMany:function(x,n){return S("deleteMany",x,n)}}};var It=function(E){Ut(k,E);function k(){return E!==null&&E.apply(this,arguments)||this}return k}(Error),gt={},ut=ut||function(E,k){var O={},A=O.lib={},S=function(){},x=A.Base={extend:function(o){S.prototype=this;var c=new S;return o&&c.mixIn(o),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var o=this.extend();return o.init.apply(o,arguments),o},init:function(){},mixIn:function(o){for(var c in o)o.hasOwnProperty(c)&&(this[c]=o[c]);o.hasOwnProperty("toString")&&(this.toString=o.toString)},clone:function(){return this.init.prototype.extend(this)}},n=A.WordArray=x.extend({init:function(o,c){o=this.words=o||[],this.sigBytes=c!=k?c:4*o.length},toString:function(o){return(o||t).stringify(this)},concat:function(o){var c=this.words,d=o.words,f=this.sigBytes;if(o=o.sigBytes,this.clamp(),f%4)for(var v=0;v<o;v++)c[f+v>>>2]|=(d[v>>>2]>>>24-8*(v%4)&255)<<24-8*((f+v)%4);else if(65535<d.length)for(v=0;v<o;v+=4)c[f+v>>>2]=d[v>>>2];else c.push.apply(c,d);return this.sigBytes+=o,this},clamp:function(){var o=this.words,c=this.sigBytes;o[c>>>2]&=4294967295<<32-8*(c%4),o.length=E.ceil(c/4)},clone:function(){var o=x.clone.call(this);return o.words=this.words.slice(0),o},random:function(o){for(var c=[],d=0;d<o;d+=4)c.push(4294967296*E.random()|0);return new n.init(c,o)}}),e=O.enc={},t=e.Hex={stringify:function(o){var c=o.words;o=o.sigBytes;for(var d=[],f=0;f<o;f++){var v=c[f>>>2]>>>24-8*(f%4)&255;d.push((v>>>4).toString(16)),d.push((v&15).toString(16))}return d.join("")},parse:function(o){for(var c=o.length,d=[],f=0;f<c;f+=2)d[f>>>3]|=parseInt(o.substr(f,2),16)<<24-4*(f%8);return new n.init(d,c/2)}},r=e.Latin1={stringify:function(o){var c=o.words;o=o.sigBytes;for(var d=[],f=0;f<o;f++)d.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return d.join("")},parse:function(o){for(var c=o.length,d=[],f=0;f<c;f++)d[f>>>2]|=(o.charCodeAt(f)&255)<<24-8*(f%4);return new n.init(d,c)}},u=e.Utf8={stringify:function(o){try{return decodeURIComponent(escape(r.stringify(o)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(o){return r.parse(unescape(encodeURIComponent(o)))}},s=A.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(o){typeof o=="string"&&(o=u.parse(o)),this._data.concat(o),this._nDataBytes+=o.sigBytes},_process:function(o){var c=this._data,d=c.words,f=c.sigBytes,v=this.blockSize,_=f/(4*v),_=o?E.ceil(_):E.max((_|0)-this._minBufferSize,0);if(o=_*v,f=E.min(4*o,f),o){for(var P=0;P<o;P+=v)this._doProcessBlock(d,P);P=d.splice(0,o),c.sigBytes-=f}return new n.init(P,f)},clone:function(){var o=x.clone.call(this);return o._data=this._data.clone(),o},_minBufferSize:0});A.Hasher=s.extend({cfg:x.extend(),init:function(o){this.cfg=this.cfg.extend(o),this.reset()},reset:function(){s.reset.call(this),this._doReset()},update:function(o){return this._append(o),this._process(),this},finalize:function(o){return o&&this._append(o),this._doFinalize()},blockSize:16,_createHelper:function(o){return function(c,d){return new o.init(d).finalize(c)}},_createHmacHelper:function(o){return function(c,d){return new i.HMAC.init(o,d).finalize(c)}}});var i=O.algo={};return O}(Math);(function(E){for(var k=ut,o=k.lib,O=o.WordArray,A=o.Hasher,o=k.algo,S=[],x=[],n=function(d){return 4294967296*(d-(d|0))|0},e=2,t=0;64>t;){var r;t:{r=e;for(var u=E.sqrt(r),s=2;s<=u;s++)if(!(r%s)){r=!1;break t}r=!0}r&&(8>t&&(S[t]=n(E.pow(e,.5))),x[t]=n(E.pow(e,1/3)),t++),e++}var i=[],o=o.SHA256=A.extend({_doReset:function(){this._hash=new O.init(S.slice(0))},_doProcessBlock:function(c,d){for(var f=this._hash.words,v=f[0],_=f[1],P=f[2],R=f[3],$=f[4],H=f[5],I=f[6],N=f[7],C=0;64>C;C++){if(16>C)i[C]=c[d+C]|0;else{var U=i[C-15],M=i[C-2];i[C]=((U<<25|U>>>7)^(U<<14|U>>>18)^U>>>3)+i[C-7]+((M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10)+i[C-16]}U=N+(($<<26|$>>>6)^($<<21|$>>>11)^($<<7|$>>>25))+($&H^~$&I)+x[C]+i[C],M=((v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22))+(v&_^v&P^_&P),N=I,I=H,H=$,$=R+U|0,R=P,P=_,_=v,v=U+M|0}f[0]=f[0]+v|0,f[1]=f[1]+_|0,f[2]=f[2]+P|0,f[3]=f[3]+R|0,f[4]=f[4]+$|0,f[5]=f[5]+H|0,f[6]=f[6]+I|0,f[7]=f[7]+N|0},_doFinalize:function(){var c=this._data,d=c.words,f=8*this._nDataBytes,v=8*c.sigBytes;return d[v>>>5]|=128<<24-v%32,d[(v+64>>>9<<4)+14]=E.floor(f/4294967296),d[(v+64>>>9<<4)+15]=f,c.sigBytes=4*d.length,this._process(),this._hash},clone:function(){var c=A.clone.call(this);return c._hash=this._hash.clone(),c}});k.SHA256=A._createHelper(o),k.HmacSHA256=A._createHmacHelper(o)})(Math);(function(){var E=ut,k=E.enc.Utf8;E.algo.HMAC=E.lib.Base.extend({init:function(O,A){O=this._hasher=new O.init,typeof A=="string"&&(A=k.parse(A));var S=O.blockSize,x=4*S;A.sigBytes>x&&(A=O.finalize(A)),A.clamp();for(var n=this._oKey=A.clone(),e=this._iKey=A.clone(),t=n.words,r=e.words,u=0;u<S;u++)t[u]^=1549556828,r[u]^=909522486;n.sigBytes=e.sigBytes=x,this.reset()},reset:function(){var O=this._hasher;O.reset(),O.update(this._iKey)},update:function(O){return this._hasher.update(O),this},finalize:function(O){var A=this._hasher;return O=A.finalize(O),A.reset(),A.finalize(this._oKey.clone().concat(O))}})})();(function(){var E=ut,k=E.lib.WordArray;E.enc.Base64={stringify:function(O){var A=O.words,S=O.sigBytes,x=this._map;O.clamp(),O=[];for(var n=0;n<S;n+=3)for(var e=(A[n>>>2]>>>24-8*(n%4)&255)<<16|(A[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|A[n+2>>>2]>>>24-8*((n+2)%4)&255,t=0;4>t&&n+.75*t<S;t++)O.push(x.charAt(e>>>6*(3-t)&63));if(A=x.charAt(64))for(;O.length%4;)O.push(A);return O.join("")},parse:function(O){var A=O.length,S=this._map,x=S.charAt(64);x&&(x=O.indexOf(x),x!=-1&&(A=x));for(var x=[],n=0,e=0;e<A;e++)if(e%4){var t=S.indexOf(O.charAt(e-1))<<2*(e%4),r=S.indexOf(O.charAt(e))>>>6-2*(e%4);x[n>>>2]|=(t|r)<<24-8*(n%4),n++}return k.create(x,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(E){for(var k=ut,o=k.lib,O=o.WordArray,A=o.Hasher,o=k.algo,S=[],x=[],n=function(d){return 4294967296*(d-(d|0))|0},e=2,t=0;64>t;){var r;t:{r=e;for(var u=E.sqrt(r),s=2;s<=u;s++)if(!(r%s)){r=!1;break t}r=!0}r&&(8>t&&(S[t]=n(E.pow(e,.5))),x[t]=n(E.pow(e,1/3)),t++),e++}var i=[],o=o.SHA256=A.extend({_doReset:function(){this._hash=new O.init(S.slice(0))},_doProcessBlock:function(c,d){for(var f=this._hash.words,v=f[0],_=f[1],P=f[2],R=f[3],$=f[4],H=f[5],I=f[6],N=f[7],C=0;64>C;C++){if(16>C)i[C]=c[d+C]|0;else{var U=i[C-15],M=i[C-2];i[C]=((U<<25|U>>>7)^(U<<14|U>>>18)^U>>>3)+i[C-7]+((M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10)+i[C-16]}U=N+(($<<26|$>>>6)^($<<21|$>>>11)^($<<7|$>>>25))+($&H^~$&I)+x[C]+i[C],M=((v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22))+(v&_^v&P^_&P),N=I,I=H,H=$,$=R+U|0,R=P,P=_,_=v,v=U+M|0}f[0]=f[0]+v|0,f[1]=f[1]+_|0,f[2]=f[2]+P|0,f[3]=f[3]+R|0,f[4]=f[4]+$|0,f[5]=f[5]+H|0,f[6]=f[6]+I|0,f[7]=f[7]+N|0},_doFinalize:function(){var c=this._data,d=c.words,f=8*this._nDataBytes,v=8*c.sigBytes;return d[v>>>5]|=128<<24-v%32,d[(v+64>>>9<<4)+14]=E.floor(f/4294967296),d[(v+64>>>9<<4)+15]=f,c.sigBytes=4*d.length,this._process(),this._hash},clone:function(){var c=A.clone.call(this);return c._hash=this._hash.clone(),c}});k.SHA256=A._createHelper(o),k.HmacSHA256=A._createHmacHelper(o)})(Math);gt.enc={Base64:ut.enc.Base64,Utf8:ut.enc.Utf8,Latin1:ut.enc.Latin1};gt.SHA256=ut.SHA256;gt.HmacSHA256=ut.HmacSHA256;const bt=gt,Rt={alg:"HS256",typ:"JWT"};function jt(E){return bt.enc.Base64.stringify(E).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ht(E,k,O={}){const A=Object.assign(Rt,O);if(A.alg!=="HS256"&&A.typ!=="JWT")throw new Error("jwt-encode only support the HS256 algorithm and the JWT type of hash");const S=wt(A),x=wt(E);let n=`${S}.${x}`;return n=bt.HmacSHA256(n,k),n=jt(n),`${S}.${x}.${n}`}function wt(E){const k=bt.enc.Utf8.parse(JSON.stringify(E));return jt(k)}var Mt=Ht;const Nt=xt(Mt),Dt=({provider:{getOne:E}})=>{const{setToken:k,...O}=Et();return{...O,login:({username:A})=>E("users",{id:A}).then(({data:{id:S,tags:x}})=>({sub:S,roles:x.map(({name:n})=>n)})).then(S=>Nt(S,"")).then(k)}},mt=(E,k,O,A)=>(console.group?(console.groupCollapsed(E,k,JSON.stringify(O)),console.log(A),console.groupEnd()):(console.log("FakeRest request ",E,k,O),console.log("FakeRest response",A)),A),Ft=({getAll:E,getPage:k,isLocalesIncludes:O,isTagsActive:A},S,x)=>E(S,x).then(({data:n})=>{const{filter:e}=x;switch(S){case"pages":return e.id&&(n=n.filter(({id:t})=>t.includes(e.id))),e.title&&(n=n.filter(({title:t})=>O(t,e.title))),e.content&&(n=n.filter(({content:t})=>O(t,e.content))),e.tags&&(n=n.filter(t=>A(t,e.tags))),k(n,x);case"users":return e.id&&(n=n.filter(({id:t})=>t.includes(e.id))),e.tags&&(n=n.filter(t=>A(t,e.tags))),k(n,x);default:return!1}}),Lt=({getOne:E,getAll:k,getPath:O,isTagsActive:A},{tags:{pages:{MENU:S,PUBLISHED:x},users:{PAGES_EDITOR:n}},localeProvider:{getLocale:e},authProvider:{getPermissions:t}},r)=>Promise.all([e(),t()]).then(([u,s])=>{const[i,o,c,d]=O(r);switch(i){case"pages":switch(c){case"one":return E(i,{id:d}).then(({data:f})=>{if(!(A(f,[x])||s&&s.includes(n)))return!1;const{title:v,content:_,files:P}=f;return!_||!_[u]?!1:{data:{id:d,title:v&&v[u],content:_[u],files:P&&P.map(({name:R})=>R)}}},()=>!1);case"menu":return k(i).then(({data:f})=>({data:f.filter(v=>A(v,[S])).map(({id:v,title:_})=>({id:v,title:_[u]}))}));default:return!1}default:return!1}}),qt=E=>{const{locales:k,provider:{getList:O,...A}}=E,S={...A,getAll:(x,{sort:n={field:"id",order:"ASC"}}={})=>O(x,{pagination:{page:1,perPage:Number.MAX_VALUE},sort:n}),getPath:({path:x})=>x.split("/"),getPage:(x,{pagination:{page:n,perPage:e}})=>({data:x.slice((n-1)*e,n*e),total:x.length}),isLocalesIncludes:(x,n)=>x&&Object.keys(k).some(e=>x[e]&&x[e].toLowerCase().includes(n.toLowerCase())),isTagsActive:({tags:x},n)=>x&&x.some(({name:e,start:t,end:r})=>n.includes(e)&&(!t||new Date>new Date(t))&&(!r||new Date<new Date(r)))};return{...S,getList:(x,n)=>Ft(S,x,n).then(e=>e&&mt("getList",x,n,e)).then(e=>e||O(x,n)),exchange:x=>Lt(S,E,x).then(n=>mt("exchange",void 0,x,n)),log:mt}},zt={getLocaleProvider:Pt,getFuncProvider:$t,getAuthProvider:Dt,getDataProvider:qt},Jt="none",Gt=[{name:"PUBLISHED"}],Wt={ru:"Не найдено",en:"Not found"},Vt={ru:`<div class="starter">
	<h1>Страница не найдена</h1>
</div>`,en:`<div class="starter">
	<h1>Page not found</h1>
</div>`},Qt={id:Jt,tags:Gt,title:Wt,content:Vt},Kt="home",Xt=[{name:"PUBLISHED"}],Yt={ru:"Домашняя страница",en:"Home page"},Zt={ru:`<div class="starter">
	<h1>Домашняя страница</h1>
	<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
	<p>Используйте этот документ для создания нового проекта.</p>
</div>`,en:`<div class="starter">
	<h1>Home page</h1>
	<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
	<p>Use this document as a way to start new project.</p>
</div>`},tn=[{name:"a5440060877315a0027f2bed7b7c9cc6.png"}],nn={id:Kt,tags:Xt,title:Yt,content:Zt,files:tn},en="sample1",rn=[{name:"MENU"},{name:"PUBLISHED"}],on={ru:"Пример страницы 1",en:"Sample page 1"},an={ru:`<div class="starter">
	<h1>Пример страницы 1</h1>
</div>`,en:`<div class="starter">
	<h1>Sample page 1</h1>
</div>`},un={id:en,tags:rn,title:on,content:an},sn="sample2",cn=[{name:"MENU"},{name:"PUBLISHED"}],fn={ru:"Пример страницы 2",en:"Sample page 2"},ln={ru:`<div class="starter">
	<h1>Пример страницы 2</h1>
	<Page id="fragment.1"/>
</div>`,en:`<div class="starter">
	<h1>Sample page 2</h1>
	<Page id="fragment.1"/>
</div>`},dn={id:sn,tags:cn,title:fn,content:ln},pn="sample3",hn=[{name:"MENU"},{name:"PUBLISHED"}],vn={ru:"Пример страницы 3",en:"Sample page 3"},yn={ru:`<div class="starter">
	<h1>Пример страницы 3</h1>
	<Page id="fragment.2"/>
</div>`,en:`<div class="starter">
	<h1>Sample page 3</h1>
	<Page id="fragment.2"/>
</div>`},gn={id:pn,tags:hn,title:vn,content:yn},mn="sample4",bn=[{name:"MENU"},{name:"PUBLISHED"}],_n={ru:"Пример страницы 4",en:"Sample page 4"},wn={ru:`<div class="starter">
	<h1>Пример страницы 4</h1>
	Контент для {permissions && permissions.includes(context.tags.users.PAGES_EDITOR) ? 'редактора' : 'всех кроме редактора'}
</div>`,en:`<div class="starter">
	<h1>Sample page 4</h1>
	Content for {permissions && permissions.includes(context.tags.users.PAGES_EDITOR) ? 'editor' : 'all except editor'}
</div>`},xn={id:mn,tags:bn,title:_n,content:wn},On="sample5",jn=[{name:"MENU"},{name:"PUBLISHED"}],An={ru:"Пример страницы 5",en:"Sample page 5"},Sn={ru:`<div class="starter">
	<h1>Пример страницы 5</h1>
	<Page id="fragment.3" p1="test" p2={123}/>
</div>`,en:`<div class="starter">
	<h1>Sample page 5</h1>
	<Page id="fragment.3" p1="test" p2={123}/>
</div>`},En={id:On,tags:jn,title:An,content:Sn},Pn="fragment.1",$n=[{name:"PUBLISHED"}],kn={ru:"Фрагмент 1",en:"Fragment 1"},Cn={ru:"<p>Фрагмент 1</p>",en:"<p>Fragment 1</p>"},Un={id:Pn,tags:$n,title:kn,content:Cn},Tn="fragment.2",Bn=[{name:"PUBLISHED"}],In={ru:"Фрагмент 2",en:"Fragment 2"},Rn={ru:`<Page id="fragment.1"/>
<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
<p>Фрагмент 2</p>`,en:`<Page id="fragment.1"/>
<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
<p>Fragment 2</p>`},Hn=[{name:"a5440060877315a0027f2bed7b7c9cc6.png"}],Mn={id:Tn,tags:Bn,title:In,content:Rn,files:Hn},Nn="fragment.3",Dn=[{name:"PUBLISHED"}],Fn={ru:"Фрагмент 3",en:"Fragment 3"},Ln={ru:`<p>Параметры</p><code>{JSON.stringify(props)}</code>
<p>Контекст</p><code>{JSON.stringify(context)}</code>
<p>Разрешения</p><code>{JSON.stringify(permissions)}</code>`,en:`<p>Properties</p><code>{JSON.stringify(props)}</code>
<p>Context</p><code>{JSON.stringify(context)}</code>
<p>Permissions</p><code>{JSON.stringify(permissions)}</code>`},qn={id:Nn,tags:Dn,title:Fn,content:Ln},zn=[Qt,nn,un,dn,gn,xn,En,Un,Mn,qn],Jn="admin",Gn=[{name:"ADMIN"},{name:"MANAGER"},{name:"PAGES_EDITOR"}],Wn={id:Jn,tags:Gn},Vn="editor",Qn=[{name:"PAGES_EDITOR"}],Kn={id:Vn,tags:Qn},Xn="manager",Yn=[{name:"MANAGER"}],Zn={id:Xn,tags:Yn},te=[Wn,Kn,Zn],ne={pages:zn,users:te},ee=E=>St(Object.assign({"./messages/en.js":()=>_t(()=>import("./en-11063c36.js"),["assets/en-11063c36.js","assets/index-ee745b51.js"]),"./messages/ru.js":()=>_t(()=>import("./ru-8654b378.js"),[])}),`./messages/${E}.js`).then(k=>k.default),{getLocaleProvider:re,getFuncProvider:oe,getAuthProvider:ie,getDataProvider:ae}=zt,ce=E=>{const k=re({getLocaleMessages:ee,...E}),O=oe(E),A=Bt(ne,!0),S=ie({provider:A,...E}),x=ae({provider:A,localeProvider:k,authProvider:S,...E});return{localeProvider:k,funcProvider:O,authProvider:S,dataProvider:x}};export{ce as default};
